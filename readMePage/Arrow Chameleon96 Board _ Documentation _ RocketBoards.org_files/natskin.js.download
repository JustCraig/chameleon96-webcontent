(function(n){"use strict";var e=0;n.extend(n.easing,{shagga:function(n,e,t,i,o){if((e/=o/2)<1){return i/2*e*e+t}return-i/2*(--e*(e-2)-1)+t}});function t(){n(".natWebMenu").livequery(function(){var e=n(this),t=e.data(),i,o,a,s,r;if(e.is(".natWebMenuStretch")){i=e.find(".natWebMenuContents > ul > li");o=i.length;a=100-(o-1)*(t.margin||0);s=a/o;r=a-s*(o-1);s=s+"%";r=r+"%";i.width(s).last().width(r)}});n(".natWebMenuContents > ul").livequery(function(){var e=n(this);e.addClass("sf-menu").superfish({cssArrows:false,speed:200,onBeforeShow:function(){var e=n(this),t;if(e.is(".ajaxMenu")){t=n.extend({},e.metadata());if(t.url){e.load(t.url,function(){e.removeClass("ajaxMenu");e.parent().removeClass("hasAjaxMenu")})}}}}).find("li:has(ul)").addClass("hasSubMenu").find("li:has(.ajaxMenu)").addClass("hasAjaxMenu")})}function i(){n(document).on("click",".natPanelToggle a",function(){var e=n(this);e.toggleClass("active");n(".natTopPanel").slideToggle(200,"shagga");return false})}function o(){n(document).on("click","a.natEditSettingsAction",function(){n("#editSettingsForm").submit();return false});n(".natMoreActionsMenu:first").livequery(function(){n(this).find("hr").parent().each(function(){var e=n(this);if(e.prevAll().find(".natTopicAction").not(".natDisabledTopicAction").length===0||e.nextAll().find(".natTopicAction").not(".natDisabledTopicAction").length===0){e.hide()}})});n(".natMoreActionsMenu:not(.natInitedMoreActionsMenu)").livequery(function(){var e=n(this),t=n.extend({},e.metadata());e.addClass("natInitedMoreActionsMenu").superfish(t);e.find("a[href]").click(function(){e.superfish("hide")})})}function a(){n(".natMainContents").find(".foswikiTable").not(n(".foswikiTable .foswikiTable",this)).wrap("<div class='overflow foswikiTableOverflow'></div>")}function s(){n(document).ajaxSend(function(){if(n(".blockUI").length===0){n(".natBusy").show()}});n(document).ajaxComplete(function(){n(".natBusy").hide()})}function r(){n(".natSideBar h2 + h2").livequery(function(){var e=n(this);e.replaceWith("<h3>"+e.html()+"</h3>")});n(".natSideBarContents > h2:first-of-type").addClass("natFirstOfType")}function f(){n("#searchbox").livequery(function(){var e=n(this),t=e.find("input[type=text]"),i=e.find("input[type=submit]"),o=n.extend({my:"right top",at:"right+5 bottom+11"},{my:e.data("position-my"),at:e.data("position-at")});if(typeof n.fn.autosuggest==="function"){t.autosuggest({position:o,menuClass:"natSearchBoxMenu",search:function(n){i.hide()},response:function(n){i.show()},open:function(n){i.show()}})}})}function c(){if(window.navigator.userAgent.match(/Android/i)){window.scrollTo(0,1)}}function u(){var e=n(".natSideBar");function t(){e.toggle("slide",{direction:"right",duration:200,easing:"shagga",complete:function(){n("body").toggleClass("natBodyNavToggleActive");if(n("body").is(".natBodyNavToggleActive")){}else{e.css("display","")}}})}n(document).on("click",".natBodyNavToggleActive",function(){t();return true});n(".natNavToggle").livequery(function(){var e=n(this);e.on("click",function(){t();return false})})}function l(){n(window).scroll(function(){var e=n(this).scrollTop();if(e>100){n("a.natScrollTop").fadeIn(1e3)}else{n("a.natScrollTop").fadeOut(100)}})}function d(){n(".foswikiBroadcastMessage").livequery(function(){var e=n(this),t="broadcastMessage_counter",i=n.cookie(t)||0;if(i>0){e.hide();i--;n.cookie(t,i,{path:"/"})}else{n.cookie(t,null,{path:"/"})}e.find(".foswikiBroadcastMessageClose").on("click",function(){if(i>0){e.slideDown("fast");n.cookie(t,null,{path:"/"})}else{e.slideUp("fast");n.cookie(t,4,{path:"/"})}return false})})}function h(){n("address").livequery(function(){var e=n(this),t=e.html().replace(/^\s+|\s+$/g,"");e.html(t)})}function g(){n(".natExternalLink").livequery(function(){n(this).attr("target","_blank").attr("rel","noopener noreferrer")})}n(function(){c();if(foswiki.getPreference("NatSkin.initWebMenu")){t()}if(foswiki.getPreference("NatSkin.initBusyIndicator")){s()}if(foswiki.getPreference("NatSkin.initOverflows")){a()}if(foswiki.getPreference("NatSkin.initSideBar")){r()}if(foswiki.getPreference("NatSkin.initAutoComplete")){f()}if(foswiki.getPreference("NatSkin.initExternalLinks")){g()}if(foswiki.getPreference("NatSkin.initTopPanel")){i()}n(document).on("dialogopen",function(){e++;n("body").addClass("natDialogOpen")});n(document).on("dialogclose",function(){e--;if(e<=0){n("body").removeClass("natDialogOpen")}});o();l();u();d();h()})})(jQuery);
