jQuery(function(t){var e;var i=function(t,e){return function(){return t.apply(e,arguments)}};e=function(){e.prototype.defaults={height:18,background:"rgba(0, 0, 0, 0.05)"};function e(e,o){this.options=t.extend({},this.defaults,o);this.winEl=t(window);this.el=e;this.elHeight=e.height();this.maxScrollLeft=this.maxScrollLeft();if(this.maxScrollLeft>0){this.cloneEl=this.cloneScrollbar();this.cloneScrollEvent(this.el,this.cloneEl);this.cloneScrollEvent(this.cloneEl,this.el);this.positionClone();this.toggleClone();this.winEl.on("resize",i(function(){return this.positionClone()},this));this.winEl.on("scroll",i(function(){return this.toggleClone()},this))}}e.prototype.cloneScrollbar=function(e){var i,o;o=this.el.outerWidth();i=t("<div/>",{"class":"farscroll-clone",html:"<div/>",css:{position:"fixed",overflow:"auto",display:"none",width:o,height:this.options.height,background:this.options.background}});i.appendTo("body");i.children().css({width:o+this.maxScrollLeft,height:1});return i};e.prototype.cloneScrollEvent=function(t,e){return t.on("scroll",function(){return e.scrollLeft(t.scrollLeft())})};e.prototype.maxScrollLeft=function(){var t;this.el.scrollLeft(99999);t=this.el.scrollLeft();this.el.scrollLeft(0);return t};e.prototype.positionClone=function(){return this.cloneEl.css({top:this.winEl.height()-this.options.height,left:this.el.offset().left})};e.prototype.toggleClone=function(){var t,e,i;e=this.options.height;i=this.el.offset().top+this.elHeight+e;t=this.winEl.height()+this.winEl.scrollTop()-i;if(t<0){if(this.elHeight<-t+e){return this.cloneEl.hide()}else{return this.cloneEl.fadeIn("fast")}}else{return this.cloneEl.hide()}};return e}();t.fn.farscroll=function(i){var o,l,n,s;s=[];for(l=0,n=this.length;l<n;l++){o=this[l];s.push(new e(t(o),i))}return s};t(".jqFarscroll, pre").livequery(function(){var e=t(this),i=t.extend({},e.metadata());e.farscroll(i)})});