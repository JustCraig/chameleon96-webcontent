jQuery(function(e){var o={cache:true};e("input[autocomplete]:not([autocomplete=off]):not(.jqInitedAutocomplete, .jqTextboxList), .jqUIAutocomplete").livequery(function(){var t=e(this),r={},a,c=t.attr("autocomplete"),u=e.extend({source:c},o,t.metadata());if(u.cache&&typeof u.source==="string"){u._source=u.source;u.source=function(o,c){var n=o.term,i=n;if(typeof u.extraParams!="undefined"){e.each(u.extraParams,function(e,r){var a=typeof r=="function"?r(t):r;o[e]=a;i+=";"+e+"="+a})}if(i in r){e.log("AUTOCOMPLETE: found "+n+" in cache");c(r[i]);return}e.log("AUTOCOMPLETE: requesting '"+n+"' from "+u._source);a=e.ajax({url:u._source,dataType:"json",data:o,success:function(o,t,u){r[i]=o;e.log("AUTOCOMPLETE: caching "+n);if(u===a){e.log("AUTOCOMPLETE: got data for '"+n+"' from backend");c(o)}else{e.log("AUTOCOMPLETE: throwing away results for '"+n+"'")}},error:function(e,o,t){alert("Error: "+o);c()}})}}t.removeClass("jqUIAutocomplete").autocomplete(u)})});